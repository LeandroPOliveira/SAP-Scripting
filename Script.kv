<ContentNavigationDrawer>:
    ScrollView:

        MDList:

            OneLineListItem:
                text: 'Tela Principal'
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "principal"

            OneLineListItem:
                text: "FB08"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "fb08"

            OneLineListItem:
                text: "FBL3N"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "fbl3n"

Screen:
    name: 'tela1'

    MDTopAppBar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "Notas Fiscais de Serviço"
        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]

    MDNavigationLayout:
        x: toolbar.height

        ScreenManager:
            id: screen_manager

            Principal:
                name: "principal"

            TcodeFB08:
                name: "fb08"

            TcodeFBL3N:
                name: "fbl3n"


        MDNavigationDrawer:
            id: nav_drawer

            ContentNavigationDrawer:
                screen_manager: screen_manager
                nav_drawer: nav_drawer


<Principal>:
    FloatLayout:
        size_hint: (1, 1)

        MDLabel:
            size_hint: .30, .10
            pos_hint: {'x': .35, 'y': .65}
            hint_text: "Data inicial"
            halign: "center"
            text: 'Selecione o período dos relatórios'

        MDTextField:
            mode: "rectangle"
            id: dt_ini
            size_hint: .15, .10
            pos_hint: {'x': .3, 'y': .55}
            hint_text: "Data inicial"
            write_tab: False
            text: '01/01/2023'

        MDTextField:
            mode: "rectangle"
            id: dt_fim
            size_hint: .15, .10
            pos_hint: {'x': .6, 'y': .55}
            hint_text: "Data Final"
            write_tab: False
            text: '31/01/2023'

<TcodeFB08>:
    FloatLayout:
        size_hint: (1, 1)

        MDRectangleFlatButton:
            size_hint: .20, .10
            pos_hint: {'x': .4, 'y': .65}
            font_size:24
            text_color: 1,1,1,1
            line_color: 1, 1, 1, 1
            md_bg_color: (36/255,100/255,203/255,1)
            text: 'Extrair razão'
            on_press:
                root.tcode_fb08()

        MDTextField:
            id: dir_pasta
            size_hint: .40, .10
            pos_hint: {'x': .3, 'y': .5}
            hint_text: "Diretório"
            text: r'C:\Users\loliveira\PycharmProjects\Scripting\SAP-Scripting\FB08 12-2022.xlsx'

        MDRectangleFlatButton:
            size_hint: .20, .10
            pos_hint: {'x': .4, 'y': .35}
            font_size:24
            text_color: 1,1,1,1
            line_color: 1, 1, 1, 1
            md_bg_color: (36/255,100/255,203/255,1)
            text: 'Lançar estorno'
            on_press:
                root.estornar()

<TcodeFBL3N>:
    FloatLayout:
        size_hint: (1, 1)

        MDRectangleFlatButton:
            size_hint: .20, .10
            pos_hint: {'x': .4, 'y': .65}
            font_size:24
            text_color: 1,1,1,1
            line_color: 1, 1, 1, 1
            md_bg_color: (36/255,100/255,203/255,1)
            text: 'Rateio energia'
            on_press:
                root.tcode_fbl3n()

        MDTextField:
            id: dir_pasta
            size_hint: .40, .10
            pos_hint: {'x': .3, 'y': .5}
            hint_text: "Diretório"
            text: r'C:\Users\loliveira\PycharmProjects\Scripting\SAP-Scripting\Energia 01-2023.xlsx'

        MDTextField:
            id: dir_energia
            size_hint: .40, .10
            pos_hint: {'x': .3, 'y': .3}
            hint_text: "Diretório"
            text: r'C:\Users\loliveira\PycharmProjects\Scripting\SAP-Scripting\Energia 12-2022.xlsx'

        MDRectangleFlatButton:
            size_hint: .20, .10
            pos_hint: {'x': .4, 'y': .25}
            font_size:24
            text_color: 1,1,1,1
            line_color: 1, 1, 1, 1
            md_bg_color: (36/255,100/255,203/255,1)
            text: 'Executar rateio'
            on_press:
                root.rateio_energia()